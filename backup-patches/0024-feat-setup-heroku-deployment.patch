From a62572192e63c40d7cb36444a7a1f9934d46f771 Mon Sep 17 00:00:00 2001
From: Tin Nguyen <nguyenvb.tin03@gmail.com>
Date: Mon, 17 Nov 2025 23:11:42 -0500
Subject: [PATCH 24/26] feat: setup heroku deployment

---
 .python-version                          |  1 +
 api/app.py                               | 14 +++++++-------
 procfile                                 |  2 +-
 api/requirements.txt => requirements.txt |  0
 4 files changed, 9 insertions(+), 8 deletions(-)
 create mode 100644 .python-version
 rename api/requirements.txt => requirements.txt (100%)

diff --git a/.python-version b/.python-version
new file mode 100644
index 0000000..2c07333
--- /dev/null
+++ b/.python-version
@@ -0,0 +1 @@
+3.11
diff --git a/api/app.py b/api/app.py
index 22e88a7..770192c 100644
--- a/api/app.py
+++ b/api/app.py
@@ -31,7 +31,7 @@ os.makedirs(instance_path, exist_ok=True)
 # -----------------------------
 # Flask App Setup
 # -----------------------------
-app = Flask(__name__, instance_path=instance_path)
+app = Flask(__name__, instance_path=instance_path, static_folder='../dist', static_url_path='/')
 
 allowed_origins = [
     'http://localhost:5173',
@@ -237,15 +237,15 @@ def api_get_current_user():
 # =====================================
 @app.route('/')
 def index():
-    return jsonify({
-        'status': 'ok',
-        'message': 'SYNTEST API is running',
-        'version': '1.0.0'
-    })
+    return app.send_static_file('index.html')
+
+@app.errorhandler(404)
+def not_found(e):
+    return app.send_static_file('index.html')
 
 
 # =====================================
 # RUN DEVELOPMENT SERVER
 # =====================================
 if __name__ == '__main__':
-    app.run(debug=True)
\ No newline at end of file
+    app.run(debug=True)
diff --git a/procfile b/procfile
index ded8440..8b5917b 100644
--- a/procfile
+++ b/procfile
@@ -1 +1 @@
-web: gunicorn --chdir api/ app:app
\ No newline at end of file
+web: gunicorn --pythonpath api app:app; npm run build
diff --git a/api/requirements.txt b/requirements.txt
similarity index 100%
rename from api/requirements.txt
rename to requirements.txt
-- 
2.46.1

