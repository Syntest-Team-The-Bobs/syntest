From 92d668f46ee2f60591ec7b76a1a7c35ba9a8e874 Mon Sep 17 00:00:00 2001
From: Robbie <rgbenn27@colby.edu>
Date: Thu, 13 Nov 2025 23:58:53 -0500
Subject: [PATCH 10/26] feat: add music-color test route and dependencies (#52)

---
 package-lock.json | 115 +++++++++++++++++++++++++++++++++++++++++-----
 package.json      |   6 +--
 src/App.jsx       |   2 +
 3 files changed, 109 insertions(+), 14 deletions(-)

diff --git a/package-lock.json b/package-lock.json
index c6796f9..61bf3eb 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -11,7 +11,9 @@
         "axios": "^1.13.2",
         "react": "^19.2.0",
         "react-dom": "^19.2.0",
-        "react-router-dom": "^7.9.5"
+        "react-router-dom": "^7.9.5",
+        "soundfont-player": "^0.12.0",
+        "tone": "^15.1.22"
       },
       "devDependencies": {
         "@types/react": "^19.2.2",
@@ -55,7 +57,6 @@
       "integrity": "sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "@babel/code-frame": "^7.27.1",
         "@babel/generator": "^7.28.5",
@@ -259,6 +260,15 @@
         "@babel/core": "^7.0.0-0"
       }
     },
+    "node_modules/@babel/runtime": {
+      "version": "7.28.4",
+      "resolved": "https://registry.npmjs.org/@babel/runtime/-/runtime-7.28.4.tgz",
+      "integrity": "sha512-Q/N6JNWvIvPnLDvjlE1OUBLPQHH6l3CltCEsHIujp45zQUSSh8K+gHnaEX45yAT1nyngnINhvWtzN+Nb9D8RAQ==",
+      "license": "MIT",
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
     "node_modules/@babel/template": {
       "version": "7.27.2",
       "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz",
@@ -1362,7 +1372,6 @@
       "integrity": "sha512-6mDvHUFSjyT2B2yeNx2nUgMxh9LtOWvkhIU3uePn2I2oyNymUAX1NIsdgviM4CH+JSrp2D2hsMvJOkxY+0wNRA==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "csstype": "^3.0.2"
       }
@@ -1404,7 +1413,6 @@
       "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "bin": {
         "acorn": "bin/acorn"
       },
@@ -1422,6 +1430,12 @@
         "acorn": "^6.0.0 || ^7.0.0 || ^8.0.0"
       }
     },
+    "node_modules/adsr": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/adsr/-/adsr-1.0.1.tgz",
+      "integrity": "sha512-thr9LK4jxApOzBA33IWOA83bXJFbyfbeozpHXyrMQOIhUni198uRxXqDhobW0S/51iokqty2Yz2WbLZbE6tntQ==",
+      "license": "ISC"
+    },
     "node_modules/ajv": {
       "version": "6.12.6",
       "resolved": "https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz",
@@ -1616,6 +1630,25 @@
       "integrity": "sha512-Oei9OH4tRh0YqU3GxhX79dM/mwVgvbZJaSNaRk+bshkj0S5cfHcgYakreBjrHwatXKbz+IoIdYLxrKim2MjW0Q==",
       "license": "MIT"
     },
+    "node_modules/audio-loader": {
+      "version": "0.5.0",
+      "resolved": "https://registry.npmjs.org/audio-loader/-/audio-loader-0.5.0.tgz",
+      "integrity": "sha512-mEoYRjZhqkBSen/X9i2PNosqvafEsur8bI5MNoPr0wsJu9Nzlul3Yv1elYeMPsXxTxYhXLY8AZlScBvaK4mydg==",
+      "license": "MIT"
+    },
+    "node_modules/automation-events": {
+      "version": "7.1.13",
+      "resolved": "https://registry.npmjs.org/automation-events/-/automation-events-7.1.13.tgz",
+      "integrity": "sha512-1Hay5TQPzxsskSqPTH3YXyzE9Iirz82zZDse2vr3+kOR7Sc7om17qIEPsESchlNX0EgKxANwR40i2g/O3GM1Tw==",
+      "license": "MIT",
+      "dependencies": {
+        "@babel/runtime": "^7.28.4",
+        "tslib": "^2.8.1"
+      },
+      "engines": {
+        "node": ">=18.2.0"
+      }
+    },
     "node_modules/available-typed-arrays": {
       "version": "1.0.7",
       "resolved": "https://registry.npmjs.org/available-typed-arrays/-/available-typed-arrays-1.0.7.tgz",
@@ -1691,7 +1724,6 @@
         }
       ],
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "baseline-browser-mapping": "^2.8.19",
         "caniuse-lite": "^1.0.30001751",
@@ -2269,7 +2301,6 @@
       "integrity": "sha512-BhHmn2yNOFA9H9JmmIVKJmd288g9hrVRDkdoIgRCRuSySRUHH7r/DI6aAXW9T1WwUuY3DFgrcaqB+deURBLR5g==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "@eslint-community/eslint-utils": "^4.8.0",
         "@eslint-community/regexpp": "^4.12.1",
@@ -3583,6 +3614,12 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/midimessage": {
+      "version": "1.0.5",
+      "resolved": "https://registry.npmjs.org/midimessage/-/midimessage-1.0.5.tgz",
+      "integrity": "sha512-MPJ2tDupFOfZB5/PLp8fri1IS4fd9hPj0Bio//FBhWRQ+TsJA7/49CF1aJyraDxa0Jq8zMHAwrwXl2GINvLvgw==",
+      "license": "MIT"
+    },
     "node_modules/mime-db": {
       "version": "1.52.0",
       "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
@@ -3657,6 +3694,12 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/note-parser": {
+      "version": "2.0.1",
+      "resolved": "https://registry.npmjs.org/note-parser/-/note-parser-2.0.1.tgz",
+      "integrity": "sha512-w9o6Fv46y3NsFxeezTZSmftBtUM/ypme6iZWVrTJvvsD5RN+w0XNDePWtfreNrZFL3jSjBFhadPoXb+pJO4UdA==",
+      "license": "MIT"
+    },
     "node_modules/object-assign": {
       "version": "4.1.1",
       "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
@@ -3886,7 +3929,6 @@
       "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "engines": {
         "node": ">=12"
       },
@@ -3976,7 +4018,6 @@
       "resolved": "https://registry.npmjs.org/react/-/react-19.2.0.tgz",
       "integrity": "sha512-tmbWg6W31tQLeB5cdIBOicJDJRR2KzXsV7uSK9iNfLWQ5bIZfxuPEHp7M8wiHyHnn0DD1i7w3Zmin0FtkrwoCQ==",
       "license": "MIT",
-      "peer": true,
       "engines": {
         "node": ">=0.10.0"
       }
@@ -3986,7 +4027,6 @@
       "resolved": "https://registry.npmjs.org/react-dom/-/react-dom-19.2.0.tgz",
       "integrity": "sha512-UlbRu4cAiGaIewkPyiRGJk0imDN2T3JjieT6spoL2UeSf5od4n5LB/mQ4ejmxhCFT1tYe8IvaFulzynWovsEFQ==",
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "scheduler": "^0.27.0"
       },
@@ -4218,6 +4258,23 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/sample-player": {
+      "version": "0.5.5",
+      "resolved": "https://registry.npmjs.org/sample-player/-/sample-player-0.5.5.tgz",
+      "integrity": "sha512-VQ9pXPJ1m/eTH8QK6OQ8Dn/HSVToNyY9w9vnv+y/yjkJeRm87tJ/gBEm66jItfSLhKe6VG1DfX8+oT+Mg7QUpg==",
+      "license": "MIT",
+      "dependencies": {
+        "adsr": "^1.0.0",
+        "midimessage": "^1.0.5",
+        "note-parser": "^1.1.0"
+      }
+    },
+    "node_modules/sample-player/node_modules/note-parser": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/note-parser/-/note-parser-1.1.0.tgz",
+      "integrity": "sha512-YTqWQBsRp40EFrEznnkGtmx68gcgOQ8CdoBspqGBA3G1/4mJwIYbDe/vuNpX3oGX2DhP7b1dBgTmj7p3Zr0P1Q==",
+      "license": "MIT"
+    },
     "node_modules/scheduler": {
       "version": "0.27.0",
       "resolved": "https://registry.npmjs.org/scheduler/-/scheduler-0.27.0.tgz",
@@ -4388,6 +4445,17 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/soundfont-player": {
+      "version": "0.12.0",
+      "resolved": "https://registry.npmjs.org/soundfont-player/-/soundfont-player-0.12.0.tgz",
+      "integrity": "sha512-8BJIsAt7h1PK3thSZDgF6zecgGhYkK74JnZO8WRZi3h34qG6H/DYlnv7cpRvL7Q9C8N6qld4Qwj7nJsX1gYjEA==",
+      "license": "MIT",
+      "dependencies": {
+        "audio-loader": "^0.5.0",
+        "note-parser": "^2.0.0",
+        "sample-player": "^0.5.5"
+      }
+    },
     "node_modules/source-map-js": {
       "version": "1.2.1",
       "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
@@ -4398,6 +4466,17 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/standardized-audio-context": {
+      "version": "25.3.77",
+      "resolved": "https://registry.npmjs.org/standardized-audio-context/-/standardized-audio-context-25.3.77.tgz",
+      "integrity": "sha512-Ki9zNz6pKcC5Pi+QPjPyVsD9GwJIJWgryji0XL9cAJXMGyn+dPOf6Qik1AHei0+UNVcc4BOCa0hWLBzlwqsW/A==",
+      "license": "MIT",
+      "dependencies": {
+        "@babel/runtime": "^7.25.6",
+        "automation-events": "^7.0.9",
+        "tslib": "^2.7.0"
+      }
+    },
     "node_modules/stop-iteration-iterator": {
       "version": "1.1.0",
       "resolved": "https://registry.npmjs.org/stop-iteration-iterator/-/stop-iteration-iterator-1.1.0.tgz",
@@ -4566,6 +4645,22 @@
         "url": "https://github.com/sponsors/SuperchupuDev"
       }
     },
+    "node_modules/tone": {
+      "version": "15.1.22",
+      "resolved": "https://registry.npmjs.org/tone/-/tone-15.1.22.tgz",
+      "integrity": "sha512-TCScAGD4sLsama5DjvTUXlLDXSqPealhL64nsdV1hhr6frPWve0DeSo63AKnSJwgfg55fhvxj0iPPRwPN5o0ag==",
+      "license": "MIT",
+      "dependencies": {
+        "standardized-audio-context": "^25.3.70",
+        "tslib": "^2.3.1"
+      }
+    },
+    "node_modules/tslib": {
+      "version": "2.8.1",
+      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
+      "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
+      "license": "0BSD"
+    },
     "node_modules/type-check": {
       "version": "0.4.0",
       "resolved": "https://registry.npmjs.org/type-check/-/type-check-0.4.0.tgz",
@@ -4723,7 +4818,6 @@
       "integrity": "sha512-BxAKBWmIbrDgrokdGZH1IgkIk/5mMHDreLDmCJ0qpyJaAteP8NvMhkwr/ZCQNqNH97bw/dANTE9PDzqwJghfMQ==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "esbuild": "^0.25.0",
         "fdir": "^6.5.0",
@@ -4934,7 +5028,6 @@
       "integrity": "sha512-JInaHOamG8pt5+Ey8kGmdcAcg3OL9reK8ltczgHTAwNhMys/6ThXHityHxVV2p3fkw/c+MAvBHFVYHFZDmjMCQ==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "funding": {
         "url": "https://github.com/sponsors/colinhacks"
       }
diff --git a/package.json b/package.json
index 2226ccd..0af7a95 100644
--- a/package.json
+++ b/package.json
@@ -11,10 +11,12 @@
     "api": "cd api && .venv\\Scripts\\flask run --no-debugger"
   },
   "dependencies": {
+    "axios": "^1.13.2",
     "react": "^19.2.0",
     "react-dom": "^19.2.0",
     "react-router-dom": "^7.9.5",
-    "axios": "^1.13.2"
+    "soundfont-player": "^0.12.0",
+    "tone": "^15.1.22"
   },
   "devDependencies": {
     "@types/react": "^19.2.2",
@@ -27,5 +29,3 @@
     "vite": "^7.2.2"
   }
 }
-
-
diff --git a/src/App.jsx b/src/App.jsx
index a665e75..ab3ccdf 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -10,6 +10,7 @@ import ScreeningExit from './pages/ScreeningExit'
 import ColorNumberTest from './pages/trigger_color/ColorNumberTest'
 import ColorLetterTest from './pages/trigger_color/ColorLetterTest'
 import ColorWordTest from './pages/trigger_color/ColorWordTest'
+import ColorMusicTest from './pages/trigger_color/ColorMusicTest';
 import SpeedCongruencyInstructions from './pages/trigger_color/SpeedCongruencyInstructions'
 import SpeedCongruencyTest from './pages/trigger_color/SpeedCongruencyTest'
 import ProtectedRoute from './components/ProtectedRoute'
@@ -49,6 +50,7 @@ function App() {
         <Route path="/color/number" element={<ColorNumberTest />} />
         <Route path="/color/letter" element={<ColorLetterTest />} />
         <Route path="/color/word" element={<ColorWordTest />} />
+        <Route path="/color/music" element={<ColorMusicTest />} />
         <Route path="/speed-congruency/instructions" element={<SpeedCongruencyInstructions />} />
 
         <Route
-- 
2.46.1

