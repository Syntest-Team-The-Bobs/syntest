From 756ad894aa686e725bc95f52e373a2c46114d9d7 Mon Sep 17 00:00:00 2001
From: Robbie <rgbenn27@colby.edu>
Date: Thu, 13 Nov 2025 23:57:19 -0500
Subject: [PATCH 08/26] refactor: update BaseColor to support music test type
 (#52)

---
 src/components/trigger_color/BaseColor.jsx | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

diff --git a/src/components/trigger_color/BaseColor.jsx b/src/components/trigger_color/BaseColor.jsx
index 00e3a36..6274783 100644
--- a/src/components/trigger_color/BaseColor.jsx
+++ b/src/components/trigger_color/BaseColor.jsx
@@ -16,6 +16,14 @@ import { colorService } from "../../services/color";
  * - Delegates state management to useColorTest hook
  * - Delegates UI rendering to presentational components
  */
+
+// Helper function outside component
+const playSound = (stimulus) => {
+  // TODO: Implement Web Audio API or use audio files
+  // For now, just log
+  console.log('Playing sound:', stimulus);
+};
+
 export default function BaseColorTest({ testType, stimuli, practiceStimuli, title, introConfig }) {
   const navigate = useNavigate();
   
@@ -57,7 +65,7 @@ export default function BaseColorTest({ testType, stimuli, practiceStimuli, titl
    */
   const getFontSize = () => {
     if (!current) return "7rem";
-    const length = current.stimulus.length;
+    const length = current.stimulus?.length || 0;
     if (testType === 'word') {
       if (length <= 3) return "5rem";
       if (length <= 5) return "4rem";
@@ -109,6 +117,8 @@ export default function BaseColorTest({ testType, stimuli, practiceStimuli, titl
       onToggleLock={toggleLock}
       onNext={handleNext}
       getFontSize={getFontSize}
+      // Add audio controls for music test
+      onPlaySound={testType === 'music' ? () => playSound(current.stimulus) : null}
     />
   );
 }
\ No newline at end of file
-- 
2.46.1

